/* Print styles for bill receipts */
@media print {

    /* 1. RESET EVERYTHING */
    body,
    html {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
        width: 100% !important;
        height: 100% !important;
        overflow: visible !important;
    }

    /* Hide everything by default */
    body * {
        visibility: hidden !important;
        height: 0 !important;
        /* Collapse hidden elements */
        overflow: hidden !important;
    }

    /* 2. SHOW RECEIPT AREA */
    #receipt-area,
    #receipt-area * {
        visibility: visible !important;
        height: auto !important;
        /* Restore height */
        overflow: visible !important;
        color: black !important;
    }

    /* 3. POSITIONING & LAYOUT */
    #receipt-area {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        /* Use padding instead of margins to prevent cut-off */
        padding: 15mm !important;
        margin: 0 !important;
        background: white !important;
        display: block !important;
        box-sizing: border-box !important;
    }

    /* 4. FIX ITEM NAMES (The most critical part) */
    /* Target the flex container for items */
    #receipt-area .flex {
        display: flex !important;
        flex-direction: row !important;
        width: 100% !important;
        align-items: flex-start !important;
    }

    /* Target the item name container */
    #receipt-area .flex-1 {
        flex: 1 1 auto !important;
        /* Grow, shrink, auto basis */
        width: auto !important;
        display: block !important;
    }

    /* Target the price container */
    #receipt-area .text-right {
        flex: 0 0 auto !important;
        /* Don't grow, don't shrink */
        text-align: right !important;
        white-space: nowrap !important;
        /* Keep price on one line */
        margin-left: 10px !important;
    }

    /* 5. FIX ADDRESS & TEXT */
    #receipt-area p {
        display: block !important;
        /* Force new line */
        margin-bottom: 2px !important;
    }

    #receipt-area h1 {
        display: block !important;
        margin-bottom: 5px !important;
        font-size: 18px !important;
    }

    /* Ensure all text spans are visible */
    #receipt-area span {
        display: inline-block !important;
        visibility: visible !important;
    }

    /* 6. PAGE SETUP - HIDE BROWSER HEADERS/FOOTERS */
    @page {
        size: auto;
        margin: 0mm;
        /* We handle margins via padding in #receipt-area */
    }

    /* Hide buttons */
    button,
    .btn {
        display: none !important;
    }

    /* 7. HIDE BROWSER DEFAULT HEADERS/FOOTERS */
    /* This removes URL, date, page numbers that browsers add */
    @page {
        margin-top: 0;
        margin-bottom: 0;
    }

    /* Additional browser-specific fixes */
    body::before,
    body::after {
        display: none !important;
    }

    /* Hide any auto-generated content */
    *::before,
    *::after {
        display: none !important;
    }

    /* Restore pseudo-elements for receipt area only */
    #receipt-area::before,
    #receipt-area::after,
    #receipt-area *::before,
    #receipt-area *::after {
        display: inline !important;
    }
}